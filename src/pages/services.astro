---
import BaseLayout from "../layouts/BaseLayout.astro";

// Extracting services data into an array for cleaner, maintainable HTML (DRY principle).
const services = [
  {
    badge: "Core Service",
    title: "Landing Pages & Converters",
    description: "High-performance single-page experiences optimized for extreme speed and psychological conversion. Built with Astro and served from the edge.",
    points: [
      "Edge-Rendered for speed",
      "A/B Testing Integration",
      "Optimized Lead Capture"
    ],
    mockupClass: "mockup-landing",
    mockupHtml: `
      <div class="mock-header"></div>
      <div class="mock-hero">
        <div class="mock-title"></div>
        <div class="mock-text"></div>
        <div class="mock-text short"></div>
        <div class="mock-btn"></div>
      </div>
    `
  },
  {
    badge: "Business Solution",
    title: "Premium Brand Hubs",
    description: "Scalable, authority-building websites for growing businesses. We establish trust through clean design and technical reliability.",
    points: [
      "Full CMS Integration",
      "Technical SEO Excellence",
      "Scalable Architecture"
    ],
    mockupClass: "mockup-brand",
    mockupHtml: `
      <div class="mock-side"></div>
      <div class="mock-grid">
        <div class="mock-card"><div class="mock-card-line"></div></div>
        <div class="mock-card"><div class="mock-card-line"></div></div>
        <div class="mock-card"><div class="mock-card-line"></div></div>
        <div class="mock-card"><div class="mock-card-line"></div></div>
      </div>
    `
  },
  {
    badge: "Optimization",
    title: "Site Performance & Audit",
    description: "Transform your existing site into a high-speed asset. We fix technical debt, optimize assets, and ensure perfect Core Web Vitals.",
    points: [
      "Performance Bottleneck Cleanup",
      "Accessibility Audit & Fix",
      "Lighthouse Score Perfection"
    ],
    mockupClass: "mockup-perf",
    mockupHtml: `
      <div class="mock-gauge-container">
        <div class="mock-gauge">
          <div class="mock-score">100</div>
        </div>
      </div>
      <div class="mock-stats">
        <div class="mock-stat-line"><div class="mock-stat-fill p90"></div></div>
        <div class="mock-stat-line"><div class="mock-stat-fill p95"></div></div>
        <div class="mock-stat-line"><div class="mock-stat-fill p100"></div></div>
      </div>
    `
  }
];
---

<BaseLayout title="Services — High-Performance Web Solutions" description="Professional web design and development services.">
  <div class="container section-py">
    <!-- Header Section -->
    <header class="text-left mb-16">
      <h1 class="services-title">Building for <span class="text-gradient">Performance</span></h1>
      <p class="text-secondary text-lg max-w-2xl">
        I engineer digital tools designed to solve high-impact business problems. Focused on technical excellence and minimalist design.
      </p>
    </header>

    <!-- Services List -->
    <div class="services-list">
      {services.map((service) => (
        <div class="service-item glass">
          <div class="service-content">
            <!-- Text Content -->
            <div class="service-main">
              <span class="service-badge">{service.badge}</span>
              <h2>{service.title}</h2>
              <p>{service.description}</p>
              <ul class="service-points">
                {service.points.map((point) => (
                  <li>{point}</li>
                ))}
              </ul>
            </div>
            <!-- Visual Mockup -->
            <div class="service-visual">
               <div class={`visual-box ${service.mockupClass}`} set:html={service.mockupHtml} />
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Call To Action -->
    <section class="cta-banner mt-16">
       <div class="glass p-12 text-center">
          <h2 class="text-3xl font-bold mb-4">Ready to optimize your presence?</h2>
          <p class="text-secondary mb-10">Let's discuss how technical excellence can drive your business metrics.</p>
          <a href="mailto:hincum@gmail.com" class="btn btn-primary">Book Consultation</a>
       </div>
    </section>
  </div>
</BaseLayout>

<style>
  /* --- Typography & Header --- */
  .services-title {
    font-size: clamp(3rem, 6vw, 5rem);
    letter-spacing: -0.05em;
    margin-bottom: var(--space-4);
    font-weight: 700;
  }

  .text-lg { font-size: 1.25rem; }

  /* --- Services Layout --- */
  .services-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .service-item {
    padding: var(--space-10);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .service-item:hover {
     border-color: var(--color-border-hover);
     background: rgba(255, 255, 255, 0.015); /* Slightly brighter hover state */
  }

  .service-content {
     display: grid;
     /* Proper side-by-side distribution avoiding text overlap */
     grid-template-columns: 1.1fr 0.9fr;
     gap: var(--space-12);
     align-items: center;
     min-height: 380px;
  }

  .service-main {
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-width: 0; /* Prevents flex children from overflowing */
  }

  .service-main h2 {
    font-size: 2.5rem;
    margin-top: var(--space-3);
    margin-bottom: var(--space-6);
    letter-spacing: -0.04em;
    font-weight: 800;
    color: var(--color-text-primary);
  }

  .service-main p {
    color: var(--color-text-secondary);
    font-size: 1.15rem;
    line-height: 1.6;
    margin-bottom: var(--space-8);
  }

  .service-badge {
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-text-muted);
  }

  /* --- Service Points List --- */
  .service-points {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-4);
    margin-top: var(--space-2);
  }

  .service-points li {
    font-size: 0.95rem;
    color: var(--color-text-primary);
    padding-left: 24px;
    position: relative;
    font-weight: 500;
    margin-right: var(--space-4);
    margin-bottom: var(--space-2);
  }

  .service-points li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: var(--color-text-muted);
  }

  /* --- Mockups General Styling --- */
  .service-visual {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 0;
    perspective: 1000px;
  }

  .visual-box {
    width: 100%;
    max-width: 480px; /* Ensures balanced size relative to text */
    aspect-ratio: 16 / 10;
    /* Monochromatic dark-themed background */
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.04) 0%, rgba(10, 10, 10, 1) 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-xl);
    position: relative;
    overflow: hidden;
    padding: var(--space-6);
    display: flex;
    flex-direction: column;
    /* Soft premium shadow */
    box-shadow: 0 20px 40px rgba(0,0,0,0.6), inset 0 1px 1px rgba(255,255,255,0.06);
    transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), border-color 0.4s ease;
  }
  
  .service-item:hover .visual-box {
    border-color: rgba(255, 255, 255, 0.15);
    transform: translateY(-4px) rotateX(2deg) rotateY(-2deg); /* Subtle 3D lift */
  }

  /* Base header for mockups */
  :global(.mock-header) {
    height: 12px;
    width: 100%;
    display: flex;
    gap: 8px;
    margin-bottom: var(--space-6);
    align-items: center;
  }
  :global(.mock-header::before) {
    content: '';
    width: 40px;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
  }

  /* --- 1. Landing Page Mockup --- */
  :global(.mockup-landing .mock-hero) {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: var(--space-3);
    border: 1px dashed rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    background: rgba(255,255,255,0.015);
  }
  :global(.mock-title) {
    height: 20px;
    width: 80%;
    background: linear-gradient(90deg, rgba(255,255,255,0.8) 0%, transparent 100%);
    border-radius: 4px;
    margin-bottom: 4px;
  }
  :global(.mock-text) {
    height: 8px;
    width: 65%;
    background: rgba(255,255,255,0.2);
    border-radius: 4px;
  }
  :global(.mock-text.short) {
    width: 45%;
  }
  :global(.mock-btn) {
    height: 32px;
    width: 100px;
    background: rgba(255,255,255,0.9);
    border-radius: 6px;
    margin-top: var(--space-3);
    box-shadow: 0 4px 12px rgba(255,255,255,0.1);
  }

  /* --- 2. Brand Hub Mockup --- */
  :global(.mockup-brand) {
    display: grid;
    grid-template-columns: 70px 1fr;
    gap: var(--space-4);
    height: 100%;
  }
  :global(.mock-side) {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.05);
    border-radius: 8px;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 10px;
  }
  :global(.mock-side::after), :global(.mock-side::before) {
    content: '';
    width: 100%;
    height: 8px;
    background: rgba(255,255,255,0.15);
    border-radius: 4px;
  }
  :global(.mock-grid) {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: var(--space-3);
  }
  :global(.mock-card) {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.05);
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 12px;
  }
  :global(.mock-card-line) {
    width: 60%;
    height: 4px;
    background: rgba(255,255,255,0.6);
    border-radius: 2px;
  }

  /* --- 3. Performance Mockup --- */
  :global(.mockup-perf) {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: var(--space-8);
    height: 100%;
  }
  :global(.mock-gauge-container) {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  :global(.mock-gauge) {
    width: 100px;
    height: 100px;
    border: 8px solid rgba(255,255,255,0.05);
    border-radius: 50%;
    display: grid;
    place-items: center;
    position: relative;
    /* Green tint for perfect score theme */
    color: #a7f3d0;
  }
  :global(.mock-gauge::after) {
    content: '';
    position: absolute;
    inset: -8px;
    border: 8px solid #a7f3d0;
    border-radius: 50%;
    border-bottom-color: transparent;
    border-left-color: transparent;
    transform: rotate(-135deg);
  }
  :global(.mock-score) {
    font-size: 2rem;
    font-weight: 800;
  }
  :global(.mock-stats) {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }
  :global(.mock-stat-line) {
    height: 6px;
    background: rgba(255,255,255,0.05);
    border-radius: 3px;
    position: relative;
    overflow: hidden;
    width: 100%;
  }
  :global(.mock-stat-fill) {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: linear-gradient(90deg, #6ee7b7, #a7f3d0);
    border-radius: 3px;
  }
  :global(.mock-stat-fill.p90) { width: 90%; }
  :global(.mock-stat-fill.p95) { width: 95%; }
  :global(.mock-stat-fill.p100) { width: 100%; }

  /* Utility Spacing */
  .p-12 { padding: 3.5rem; }
  .mt-16 { margin-top: 4rem; }
  .mb-10 { margin-bottom: 2.5rem; }
  .text-3xl { font-size: 2rem; }

  /* --- Responsive Layout --- */
  @media (max-width: 1024px) {
    .service-content { 
      grid-template-columns: 1fr; 
      gap: var(--space-8);
      min-height: auto;
    }
    .service-visual { 
      margin-top: var(--space-4);
      /* Keeping visual visible on mobile, just centering it */
    }
    .service-item { padding: var(--space-8); }
  }
  
  @media (max-width: 768px) {
    .service-item { padding: var(--space-6); }
    .service-main h2 { font-size: 2rem; }
  }
</style>